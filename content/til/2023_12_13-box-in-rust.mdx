---
title: 'Rust Box'
description: 'What is the "Box" in Rust Lang'
date: '2023-12-13'
tags:
  - 'rust'
  - 'box'
  - 'memory'
  - 'heap'
  - 'stack'
---

Reading some Rust code examples in documentation and blogs, I can see the use of `Box<T>` declaration. Like:

```rust /Box/
struct Schema {
    commands: Vec<Box<dyn Migration>>,
}
```

According to the official Rust documentation: "All values in Rust are stack allocated by default. Values can be boxed (allocated on the heap) by creating a `Box<T>`. **A box is a smart pointer to a heap allocated value of type `T`**. When a box goes out of scope, its destructor is called, the inner object is destroyed, and the memory on the heap is freed."

ref: [https://doc.rust-lang.org](https://doc.rust-lang.org/rust-by-example/std/box.html#:~:text=All%20values%20in%20Rust%20are,on%20the%20heap%20is%20freed.)
